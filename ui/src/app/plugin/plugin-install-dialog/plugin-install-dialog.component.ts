import {Component, Inject, OnInit} from '@angular/core';
import {MAT_DIALOG_DATA, MatDialogRef} from "@angular/material/dialog";
import {Action} from "../../shared/api.service";
import {WorkerMessageEvent, WorkerWebSocket} from "../../shared/ws.service";
import {Router} from "@angular/router";

@Component({
    selector: 'app-plugin-install-dialog',
    templateUrl: './plugin-install-dialog.component.html',
    styleUrls: ['./plugin-install-dialog.component.scss']
})
export class PluginInstallDialogComponent implements OnInit {

    actionsUpdated: {[modelName: string]: {id: string, status: string}}
    constructor(@Inject(MAT_DIALOG_DATA) public data: {actions: any[]},
                private router: Router) { }

    ngOnInit(): void {
    }

    goToActions(): void {
        this.router.navigate(['/actions', this.data.actions[0].id], {
            queryParams: {'actionIdsFilter': this.data.actions.map((x) => x.id).join(',')}
        });
    }
}
