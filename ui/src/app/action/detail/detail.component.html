<mat-sidenav-container class="example-sidenav-container"
    [style.marginTop.px]="mobileQuery.matches ? 56 : 0">

    <mat-sidenav opened id="left-panel" #snav
        [mode]="mobileQuery.matches ? 'over' : 'side'"
        [fixedInViewport]="mobileQuery.matches" fixedTopGap="56">
        <action-panel [projectId]="projectId"></action-panel>
    </mat-sidenav>

    <mat-sidenav-content>
        <div fxLayout="row">
            <div class="action-title">
                <h2 class="mat-title">{{ action.name }}</h2>
                <p class="mat-subheading-2">{{ action.server }}</p>
            </div>
            <div fxFlex></div>
            <div class="mat-typography dates">
                <p>
                    <mat-icon>scheduler</mat-icon>
                    Created {{ action.created_at | amTimeAgo }}
                </p>
                <p *ngIf="!action.completed_at">
                    <mat-icon>update</mat-icon>
                    Updated {{ action.updated_at | amTimeAgo }}
                </p>
                <p *ngIf="action.completed_at">
                    <mat-icon>done</mat-icon>
                    Complete {{ action.completed_at | amTimeAgo }}
                </p>
            </div>
        </div>

        <mat-tab-group (selectedIndexChange)="getTab($event)">
            <mat-tab>
                <ng-template mat-tab-label>
                    <mat-icon class="tab-icon">branding_watermark</mat-icon>
                    Terminal
                </ng-template>
                <console *ngIf="action && action.terminal_url" [url]="action.terminal_url" #terminal
                    [auth]="action.terminal_auth"></console>
            </mat-tab>

            <mat-tab>
                <ng-template mat-tab-label>
                    <mat-icon class="tab-icon">local_movies</mat-icon>
                    Video
                </ng-template>
                <div id="asciinema">

                </div>
                <!-- <asciinema-player src="/api/projects/actions/4/asciinema.cast"></asciinema-player> -->
            </mat-tab>

            <mat-tab>
                <ng-template mat-tab-label>
                    <mat-icon class="tab-icon">description</mat-icon>
                    Output
                </ng-template>

                <console *ngIf="terminal_output" [data]="terminal_output"></console>
            </mat-tab>
        </mat-tab-group>

    </mat-sidenav-content>
</mat-sidenav-container>
